<!DOCTYPE html>
<!-- saved from url=(0057)https://rantahar.github.io/introduction-to-mpi/setup.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2020-05-28 07:36:53 +0000">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- meta "search-domain" used for google site search function google_search() -->
    <meta name="search-domain" value="https://rantahar.github.io/introduction-to-mpi">
    <link rel="stylesheet" type="text/css" href="./Setup – Introduction to Parallel Programming with MPI_files/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="./Setup – Introduction to Parallel Programming with MPI_files/bootstrap-theme.css">
    <link rel="stylesheet" type="text/css" href="./Setup – Introduction to Parallel Programming with MPI_files/lesson.css">
    <link rel="stylesheet" type="text/css" href="./Setup – Introduction to Parallel Programming with MPI_files/syntax.css">

    



    <!-- Favicons for everyone -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/apple-touch-icon-152x152.png">
    <link rel="icon" type="image/png" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/favicon-196x196.png" sizes="196x196">
    <link rel="icon" type="image/png" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="https://rantahar.github.io/introduction-to-mpi/assets/favicons/sa2c/favicon-128.png" sizes="128x128">
    <meta name="application-name" content="SA2C - Introduction to Parallel Programming with MPI">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="./assets/favicons/sa2c/mstile-144x144.png">
    <meta name="msapplication-square70x70logo" content="./assets/favicons/sa2c/mstile-70x70.png">
    <meta name="msapplication-square150x150logo" content="./assets/favicons/sa2c/mstile-150x150.png">
    <meta name="msapplication-wide310x150logo" content="./assets/favicons/sa2c/mstile-310x150.png">
    <meta name="msapplication-square310x310logo" content="./assets/favicons/sa2c/mstile-310x310.png">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

  <title>
  Setup – Introduction to Parallel Programming with MPI
  </title>  

  </head>
  <body data-new-gr-c-s-check-loaded="14.1133.0" data-gr-ext-installed="">

    


<div class="panel panel-default life-cycle">
  <div id="life-cycle" class="panel-body beta">
    This lesson is being piloted (Beta version)
  </div>
</div>




    <div class="container">
      






<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      
      
      <a href="https://sa2c.swansea.ac.uk/" class="pull-left">
        <img class="navbar-logo" src="./Setup – Introduction to Parallel Programming with MPI_files/sa2c-logo.svg" alt="The SA2C logo">
      </a>
      

      
      <a class="navbar-brand" href="https://rantahar.github.io/introduction-to-mpi/index.html">Home</a>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

	
        <li><a href="https://rantahar.github.io/introduction-to-mpi/CODE_OF_CONDUCT.html">Code of Conduct</a></li>

        
	
        <li><a href="https://rantahar.github.io/introduction-to-mpi/setup.html">Setup</a></li>

        
        <li class="dropdown">
          <a href="https://rantahar.github.io/introduction-to-mpi/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Episodes <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/01-introduction/index.html">Introduction to Parallel Computing</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/02-serial-and-parallel/index.html">Serial and Parallel Regions</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/03-mpi_send_recv/index.html">MPI_Send and MPI_Recv</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/04-break/index.html">Coffee Break</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/05-parallel-paradigms/index.html">Parallel Paradigms and Parallel Algorithms</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/06-nonblocking/index.html">Non-blocking Communication</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/07-collective/index.html">Collective Operations</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/08-break/index.html">Lunch Break</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/09-parallellising_serial/index.html">Serial to Parallel</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/10-profiling/index.html">Profiling Parallel Applications</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/11-break/index.html">Coffee Break</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/12-hands_on/index.html">Serial to Parallel</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/13-tips-and-best-practices/index.html">Tips and Best Practices</a></li>
            
	    <li role="separator" class="divider"></li>
            <li><a href="https://rantahar.github.io/introduction-to-mpi/aio/index.html">All in one page (Beta)</a></li>
          </ul>
        </li>
	

	
	
        <li class="dropdown">
          <a href="https://rantahar.github.io/introduction-to-mpi/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Extras <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="https://rantahar.github.io/introduction-to-mpi/reference.html">Reference</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/about/index.html">About</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/automated_testing/index.html">Automated Testing</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/discuss/index.html">Discussion</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/figures/index.html">Figures</a></li>
            
            <li><a href="https://rantahar.github.io/introduction-to-mpi/guide/index.html">Instructor Notes</a></li>
            
          </ul>
        </li>
	

	
        <li><a href="https://rantahar.github.io/introduction-to-mpi/LICENSE.html">License</a></li>
	
	<li><a href="https://github.com/rantahar/introduction-to-mpi/edit/gh-pages/setup.md" data-checker-ignore="">Improve this page <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></li>
	
      </ul>
      <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form>
    </div>
  </div>
</nav>















<h1 class="maintitle"><a href="https://rantahar.github.io/introduction-to-mpi/index.html">Introduction to Parallel Programming with MPI</a>: Setup</h1>

<article>
<h2 id="install-mpi">Install MPI</h2>

<p>Make sure you can compile C or Fortran programs using a compiler or a development environment.
You will need an implementation of the MPI (Message Passing Interface) library. Several implementations
of MPI exist, but for example Open MPI will work on Linux and macOS, and the Microsoft Distribution of
MPICH will work on Windows.</p>

<h4 id="ubuntu--linux">Ubuntu / Linux</h4>
<p>Most Linux distributions will have an <code class="language-plaintext highlighter-rouge">openmpi</code> or <code class="language-plaintext highlighter-rouge">openmpi-dev</code> package.
On Ubuntu, open a terminal and run:</p>
<div class="language-bash source highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt <span class="nb">install </span>openmpi-bin openmpi-dev openmpi-common openmpi-doc libopenmpi-dev
</code></pre></div></div>

<p>Check that you Open MPI is properly installed by running:</p>
<div class="language-bash source highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mpicc <span class="nt">--showme</span>:version
</code></pre></div></div>
<p>The output should be similar to this:</p>
<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mpicc: Open MPI 2.1.1 (Language: C)
</code></pre></div></div>

<h4 id="macos">macOS</h4>
<p>On macOS you can install Open MPI for the command line using <a href="https://brew.sh/">homebrew</a>.
After installing Homebrew, open the Terminal in Applications/Utilities and run:</p>
<div class="language-bash source highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew <span class="nb">install </span>open-mpi
</code></pre></div></div>

<p>To check the installation run:</p>
<div class="language-bash source highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mpicc <span class="nt">--showme</span>:version
</code></pre></div></div>
<p>The output should be similar to this:</p>
<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mpicc: Open MPI 2.1.1 (Language: C)
</code></pre></div></div>

<h4 id="windows">Windows</h4>
<p>On windows, the preferred option is to use the
<a href="https://www.cygwin.com/">Cygwin</a>
terminal emulator or the Windows Subsystem for 
Linux for Windows 10. 
Both provide an interface that is
similar to most HPC clusters.</p>

<p>If you decide to use Cygwin, you need to install some
packages using the Cygwin installer.
If you already have Cygwin installed, you nevertheless
should run the installer and make sure the following packages
are selected:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">gcc-core</code> and <code class="language-plaintext highlighter-rouge">gcc-fortran</code></li>
  <li><code class="language-plaintext highlighter-rouge">openmpi</code>, <code class="language-plaintext highlighter-rouge">libopenmpi40</code>, <code class="language-plaintext highlighter-rouge">libopenmpihf08_40</code>, <code class="language-plaintext highlighter-rouge">libopenmpiusef08_40</code>, <code class="language-plaintext highlighter-rouge">openmpi-devel</code> and <code class="language-plaintext highlighter-rouge">openmpi-devel</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">zlib</code> and<code class="language-plaintext highlighter-rouge">zlib-devel</code></li>
  <li><code class="language-plaintext highlighter-rouge">make</code> and <code class="language-plaintext highlighter-rouge">cmake</code></li>
  <li><code class="language-plaintext highlighter-rouge">git</code></li>
  <li><code class="language-plaintext highlighter-rouge">nano</code>, or your text editor of choice</li>
</ul>

<p>You can verify that it works by compiling any C or Fortran program using the <code class="language-plaintext highlighter-rouge">mpicc</code> or <code class="language-plaintext highlighter-rouge">mpifort</code> compiler.</p>

<p>On Windows, if you use Visual Studio, you can install
<a href="https://docs.microsoft.com/en-us/message-passing-interface/microsoft-mpi">Microsoft MPI</a>.
The download includes two files, <code class="language-plaintext highlighter-rouge">msmpisetup.exe</code> and <code class="language-plaintext highlighter-rouge">msmpisdk.msi</code>. Download and run both installers.
Follow <a href="https://blogs.technet.microsoft.com/windowshpc/2015/02/02/how-to-compile-and-run-a-simple-ms-mpi-program/">these instructions</a>
to create a project with the MPI compiler and library.</p>

<h2 id="installing-scalasca">Installing Scalasca</h2>

<p>Scalasca is an open source application for profiling MPI programs.
We use Scalasca in one of the afternoon lessons.
Downloading and installing at least the CubeGUI is useful.
If you have access to a cluster and Scalasca is installed, you don’t
need to install Scalasca itself on your laptop.</p>

<p>Scalasca consists of four parts:</p>
<ul>
  <li>Score-P for compiling an instrumented binary.</li>
  <li>Scalasca for profiling and analysing.</li>
  <li>CubeGUI, a graphical viewer.</li>
  <li>The Cubelib library, used by Scalasca and CubeGUI.</li>
</ul>

<p>CubeGUI can be used to view profiling information produced on different platforms.
Binary packages are provided for Windows and macOS on the <a href="http://www.scalasca.org/software/cube-4.x/download.html">Scalasca Downloads website</a>.</p>

<p>To install it on Linux, download the Cube Bundle on the same website.
Compile and install with:</p>
<div class="language-bash source highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar</span> <span class="nt">-xf</span> CubeBundle-2.0.tar.gz
<span class="nb">cd </span>CubeBundle-2.0
./configure
make
<span class="nb">sudo </span>make <span class="nb">install
cd</span> ..
</code></pre></div></div>

<p>You may also wish to install Scalasca itself. This allows you to run the profiler on your laptop. You can use Scalasca to profile MPI programs on your local system.</p>

<p>Start with Score-P. Download it from <a href="https://www.vi-hps.org/projects/score-p/">the scorep website</a> and run:</p>
<div class="language-bash source highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar</span> <span class="nt">-xf</span> scorep-<span class="k">*</span>.tar.gz
<span class="nb">cd </span>scorep
./configure
make
<span class="nb">sudo </span>make <span class="nb">install
cd</span> ..
</code></pre></div></div>

<p>Finally install Scalasca itself. Download it from the <a href="http://www.scalasca.org/software/cube-4.x/download.html">Scalasca Downloads page</a>.
Install in the same way:</p>
<div class="language-bash source highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar</span> <span class="nt">-xf</span> scalasca-<span class="k">*</span>.tar.gz
<span class="nb">cd </span>scalasca
./configure
make
<span class="nb">sudo </span>make <span class="nb">install
cd</span> ..
</code></pre></div></div>

</article>

      
      






<footer>
  <div class="row">
    <div class="col-md-6 copyright" align="left">
	<!-- -->
	Licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY-SA 4.0</a> 2018–2020
	by Jarno Rantaharju, Seyong Kim, Ed Bennett and <a href="https://sa2c.swansea.ac.uk/">Swansea Academy of Advanced Computing</a>
		</div>
    <div class="col-md-6 help-links" align="right">
	
	<a href="https://github.com/rantahar/introduction-to-mpi/edit/gh-pages/setup.md" data-checker-ignore="">Edit on GitHub</a>
	
	/
	<a href="https://github.com/rantahar/introduction-to-mpi/blob/gh-pages/CONTRIBUTING.md" data-checker-ignore="">Contributing</a>
	/
	<a href="https://github.com/rantahar/introduction-to-mpi/">Source</a>
	/
	<a href="https://github.com/rantahar/introduction-to-mpi/blob/gh-pages/CITATION" data-checker-ignore="">Cite</a>
	/
	<a href="mailto:j.m.o.rantaharju@swansea.ac.uk">Contact</a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12" align="center">
      Using <a href="https://github.com/carpentries/styles/">The Carpentries style</a>
      version <a href="https://github.com/carpentries/styles/releases/tag/v9.5.3">9.5.3</a>.
    </div>
  </div>
</footer>

      
    </div>
    
<script type="text/javascript" async="" src="./Setup – Introduction to Parallel Programming with MPI_files/js"></script><script async="" src="./Setup – Introduction to Parallel Programming with MPI_files/analytics.js"></script><script src="./Setup – Introduction to Parallel Programming with MPI_files/jquery.min.js"></script>
<script src="./Setup – Introduction to Parallel Programming with MPI_files/bootstrap.min.js"></script>
<script src="./Setup – Introduction to Parallel Programming with MPI_files/lesson.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37305346-2', 'auto');
  ga('send', 'pageview');
</script>


<script>
  function toggle_code_display() {
    // If the checkbox is checked, display the code block
    if ($("#show_c_checkbox")[0].checked == true){
      $(".show-c").show()
    } else {
      $(".show-c").hide()
    }
    localStorage.setItem('show-c', $("#show_c_checkbox")[0].checked);
  
    if ($("#show_fortran_checkbox")[0].checked == true){
      $(".show-fortran").show()
    } else {
      $(".show-fortran").hide()
    }
    localStorage.setItem('show-fortran', $("#show_fortran_checkbox")[0].checked);

    if ($("#show_python_checkbox")[0].checked == true){
      $(".show-python").show()
    } else {
      $(".show-python").hide()
    }
    localStorage.setItem('show-python', $("#show_python_checkbox")[0].checked);
  }
  
  //Load the checkbox states from local storage and apply
  if(localStorage.getItem("show-c") == "true"){
    $("#show_c_checkbox").prop('checked', true);
  }
  if(localStorage.getItem("show-fortran") == "true"){
    $("#show_fortran_checkbox").prop('checked', true);
  }
  if(localStorage.getItem("show-python") == "true"){
    $("#show_python_checkbox").prop('checked', true);
  }
  toggle_code_display();
</script>
  

  

</body><grammarly-desktop-integration data-grammarly-shadow-root="true"><template shadowrootmode="open"><style>
      div.grammarly-desktop-integration {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select:none;
        user-select:none;
      }

      div.grammarly-desktop-integration:before {
        content: attr(data-content);
      }
    </style><div aria-label="grammarly-integration" role="group" tabindex="-1" class="grammarly-desktop-integration" data-content="{&quot;mode&quot;:&quot;full&quot;,&quot;isActive&quot;:true,&quot;isUserDisabled&quot;:false}"></div></template></grammarly-desktop-integration></html>